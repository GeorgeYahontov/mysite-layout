<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>copy-of-Facebook-under-Internet Explorer-6</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../fonts/stylesheet.css">
    <link rel="stylesheet" href="../../css/style.css">
</head>

<body>
<header class="header">
    <div class="header__container">
        <div class="header__logo"><span class="header__logo-overflow">MY</span>SITE</div>
        <nav class="header__navbar">
            <ul class="header__navbar-list">
                <li class="header__navbar-item">
                    <a href="../../../index.html" class="header__navbar-link">ГЛАВНАЯ</a>
                </li>
                <li class="header__navbar-item">
                    <a href="../articles.html" class="header__navbar-link header__navbar-link--active">СТАТЬИ</a>
                </li>
                <li class="header__navbar-item">
                    <a href="../catalog.html" class="header__navbar-link">КАТАЛОГ</a>
                </li>
                <li class="header__navbar-item">
                    <a href="../gallery.html" class="header__navbar-link">ГАЛЕРЕЯ</a>
                </li>
                <li class="header__navbar-item">
                    <a href="../registration.html" class="header__navbar-link">РЕГИСТРАЦИЯ</a>
                </li>
                <li class="header__navbar-item">
                    <a href="../contacts.html" class="header__navbar-link">КОНТАКТЫ</a>
                </li>
                <li class="header__navbar-item">
                    <a href="../page-nav.html" class="header__navbar-link">НАВИГАЦИЯ</a>
                </li>
            </ul>
        </nav>
    </div>

</header>
<main class="main">
    <div class="h1__bg mix-bg">
        <h1 class="h1 content-bg">Зачем делать копию Facebook под Internet Explorer 6 в 2021 году?</h1>
    </div>
    <div class="container">
        <article class="tm-page-article__content tm-page-article__content_inner">
            <div class="tm-page-article__head-wrapper">
                <!---->
                <div class="tm-article-snippet tm-page-article__snippet">


                    <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a
                            href="/ru/company/ruvds/blog/"
                            class="tm-article-snippet__hubs-item-link router-link-active"><span>Блог компании
                                        RUVDS.com</span></a></span><span class="tm-article-snippet__hubs-item"><a
                            href="/ru/hub/web_design/"
                            class="tm-article-snippet__hubs-item-link"><span>Веб-дизайн</span></a></span><span
                            class="tm-article-snippet__hubs-item"><a href="/ru/hub/webdev/"
                                                                     class="tm-article-snippet__hubs-item-link"><span>Разработка
                                        веб-сайтов</span></a></span><span class="tm-article-snippet__hubs-item"><a
                            href="/ru/hub/ie/" class="tm-article-snippet__hubs-item-link"><span>Internet
                                        Explorer</span></a></span></div>


                </div>
            </div>
            <!---->
            <div class="tm-article-body" lang="ru">
                <div>
                    <div xmlns="http://www.w3.org/1999/xhtml"><a
                            href="https://habr.com/ru/company/ruvds/blog/564300/">
                        <div style="text-align:center;"><img
                                style="width:100%"
                                src="https://habrastorage.org/r/w1560/webt/l6/pi/bb/l6pibbl0vhvd_rhoacqojrgqnqe.jpeg"
                                data-src="https://habrastorage.org/webt/l6/pi/bb/l6pibbl0vhvd_rhoacqojrgqnqe.jpeg"
                                alt="habrastorage.org">
                        </div>
                    </a><br>
                        <span class="first-letter">В</span> августе этого года <a
                                href="https://blogs.windows.com/windowsexperience/2021/05/19/the-future-of-internet-explorer-on-windows-10-is-in-microsoft-edge/">Microsoft
                            прекращает поддержку Internet Explorer 11</a>, тем самым заканчивает эпоху браузеров,
                        которые несли в себе одну очень важную миссию… <s>скачивали нормальный браузер</s> знакомили
                        людей с когда-то прекрасным местом как интернет.<br>
                        <br>
                        Сидя одним вечером дома и читая об этом статью, ко мне в голову пришла мысль — <i>«А не
                            сделать ли мне современный сайт так, как делали их тогда?»</i>. Отличный повод вспомнить
                        как начиналась моя дорога в разработку и поностальгировать за теми годами. Вечер свободный,
                        каких-то сложностей с вёрсткой под Internet Explorer я уже не припомню. Так-то почти 15 лет
                        прошло. Думаю, справлюсь за час сильно не напрягаясь…<br>
                        <br>
                        <h2>С чего бы начать?</h2><br>
                        <span class="first-letter">А</span> начал я с того, что приготовил себе кофе и включил любимую
                        музыку. Главное для работы
                        разработчика сделано, теперь буду воссоздавать именно ту рабочую обстановку, с которой я
                        начинал.<br>
                        <br>
                        Выбирать тогда особо не приходилось — используй то что есть и скажи спасибо что имеется
                        возможность «одолжить» программное обеспечение в локальной сети, прихватив пару вирусов в
                        придачу. Хорошо что в интернете ещё есть места где можно скачать настолько старое ПО.<br>
                        <br>
                        На виртуальную машину устанавливаю прекрасную в своём исполнении и по сей день — Windows XP.
                        Именно в комплекте с ней поставлялся Internet Explorer 6. Для меня, как и многих других это
                        была первая операционная система и первый браузер в жизни.<br>
                        <br>
                        <img src="https://habrastorage.org/r/w1560/webt/6y/aj/rp/6yajrpbqhc6dsvkb8flmrb4xmc4.jpeg"
                             data-src="https://habrastorage.org/webt/6y/aj/rp/6yajrpbqhc6dsvkb8flmrb4xmc4.jpeg"
                             alt="habrastorage.org"><br>
                        <i class="grey">Внешний вид Windows XP с запущенным Internet Explorer 6</i><br>
                        <br>
                        <span class="first-letter">О</span>чень приятно было увидеть снова этот интерфейс, хотя раньше
                        он казался нарисованным более
                        качественно. Этот тот случай — чем старее монитор, тем лучше система будет выглядеть.
                        Оказалось в IE 6 не было вкладок, а переключение между окнами происходило через панель
                        задач. Совсем об этом забыл. Хорошо что для работы мне нужна всего одна.<br>
                        <br>
                        Также мне потребуются редакторы кода и графики. В моем случае это <a
                                href="https://ru.wikipedia.org/wiki/Microsoft_FrontPage">Microsoft FrontPage</a> и Adobe
                        Photoshop 8, а точнее его друг <a
                                href="https://ru.wikipedia.org/wiki/Adobe_ImageReady">ImageReady</a>. FrontPage в то
                        время я нашёл случайно роясь в пакете поставки Microsoft Office. После текстового документа
                        это был глоток свежего воздуха. Подсветка кода, предосмотр своей работы и широкая
                        функциональность, которая делала разработку приятней и значительно проще. Ну а с Photoshop
                        не игрался только ленивый. Сам он затачивался чисто для обработки фотографий, а вот для
                        растровой графики в комплекте с ним предлагался ImageReady. В общем использовали и то и
                        то.<br>
                        <br>
                        Кроме рабочего браузера мне понадобится ещё один — Mozilla Firefox. Этого красавца я буду
                        использовать для выявления нестыковок вёрстки с IE 6. В то время я делал верстку сначала под
                        IE, а только потом подстраивал под другие браузеры, что было очень большой ошибкой.<br>
                        <br>
                        Вроде всё готово и я ничего не забыл, а значит можно начинать.<br>
                        <br>
                        <h2>Семь раз отмерь и ещё семь раз отмерь</h2><br>
                        <span class="first-letter">Т</span>ак как дизайн мне продумывать не нужно, сразу запасёмся
                        референсами. Вот как выглядит
                        страница Facebook:<br>
                        <br>
                        <img src="https://habrastorage.org/r/w1560/webt/st/rd/oh/strdohnjo8ok6efm5xij6ioccx0.jpeg"
                             data-src="https://habrastorage.org/webt/st/rd/oh/strdohnjo8ok6efm5xij6ioccx0.jpeg"
                             alt="habrastorage.org"><br>
                        <i class="grey">Скриншот страницы профиля Facebook</i><br>
                        <br>
                        <span class="first-letter">В</span> общем ничего сложного. Простая структура, скруглённые углы,
                        тени, пару градиентов и
                        векторные иконки, работы немного. DevTools хрома и вся интересующая информация у меня в… а
                        нет, так раньше не делали… Или ройся в исходниках (с вёрсткой Facebook это сразу
                        психологическая травма, надо было постараться такой простой макет сделать так плохо), или
                        сделай скриншот и отмеряй в Photoshop. Чем я и занялся, попутно переводя всё в код.<br>
                        <br>
                        Но! Стоит упомянуть об ограничениях. У меня нет хорошего автокомплита, автогенерации кода,
                        расширенной подсветки синтаксиса, препроцессоров и сборщиков, девтулзов и подобных всяких
                        мелочей.<br>
                        <br>
                        А так же я ограничен спецификациями <a href="https://www.w3.org/TR/html401/">HTML 4</a> и <a
                                href="https://www.w3.org/TR/CSS21/">CSS 2</a> и их представлением в IE 6. А это означает
                        что никаких продвинутых селекторов и псевдоэлементов, градиентов и теней, трансформаций и
                        анимаций, округлых углов и прозрачности, гридов и флексбоксов нет. SVG кстати тоже нет.<br>
                        <br>
                        Одним словом — ничего нет. Лучше бы я посмотрел сериал, но раз сел нужно довести работу до
                        конца.<br>
                        <br>
                        <h2>Чтобы долго не томить, получилось?</h2><br>
                        <span class="first-letter">П</span>олучилось и вот результат который можно увидеть в IE 6:<br>
                        <br>
                        <img src="https://habrastorage.org/r/w1560/webt/a7/oy/pv/a7oypv7fcsr_3wf42hd4ua9brng.jpeg"
                             data-src="https://habrastorage.org/webt/a7/oy/pv/a7oypv7fcsr_3wf42hd4ua9brng.jpeg"
                             alt="habrastorage.org"><br>
                        <i class="grey">Так выглядит моя копия страницы профиля Facebook в Internet
                            Explorer 6</i><br>
                        <br>
                        Неплохо и практически <i>«один в один»</i> как я и хотел. Но не всё так радужно как может
                        показаться на первый взгляд. Давайте разбираться как я это сделал и сколько реального
                        времени потратил вместо запланированного.<br>
                        <br>
                        <h2>Таблицы тоже гриды</h2><br>
                        <span class="first-letter">Н</span>ачнём с основ, а именно с макета. Не столь давно появившиеся
                        инструменты в виде
                        <code>flex</code> и <code>grid</code> решают практически все возможные проблемы с созданием
                        сложных структур представления любой информации, а как было до них? В общем так же, только
                        значительно хуже в определённых моментах.<br>
                        <br>
                        Таблицы применяли для решения тех же задач, что и гриды сейчас. Используя их можно было
                        легко создавать сложный дизайн и нужную разметку с хорошим позиционированием контента по
                        горизонтали и вертикали. В то время центровка по вертикали была большой головной болью.
                        Приходилось явно указывая отступы, чтобы визуально все элементы находились на одной линии, а
                        таблицы позволяли это сделать одной строчкой кода.<br>
                        <br>
                        Есть в них и недостатки. Дело в том, что таблица не может чётко сохранять свои размеры. Даже
                        если явно указать ширину или высоту таблицы, она всегда будет подстраиваться под размер
                        контента. Вроде не большая проблема, пока не сталкиваешься с неявным поведением. При
                        использовании блочного контента с фиксированным размером, могут появляться отступы, которых
                        быть не должно. Что, в свою очередь, косвенно влияет и на другие ячейки. Решалось это
                        использованием свойства <code>table-layout: fixed;</code> с явным указанием размера
                        таблицы.<br>
                        <br>
                        При горизонтальном выравнивании между элементами, всегда оставался отступ шириной в один
                        пробел, чего не было при использовании <code>float</code>. Да и для простых задач таблицы
                        было использовать неудобно из-за массивности кода и дополнительных затрат на стилизацию.<br>
                        <br>
                        Поэтому для структурных частей использовали таблицы, а для всего остального предпочитали
                        <code>float</code>. Мы прямо говорили браузеру <i>«вырви эти куски и сделай с ними
                            что-нибудь, чтобы они стали рядом друг с другом»</i>. И он так и делал. Что было очень
                        удобно, но порождало проблему обтекания другими элементами. Решалось применением различного
                        рода механик по сбросу <i>«плавающего»</i> состояния.<br>
                        <br>
                        Посмотрим на то, как реализован макет моей копии. Для начала идёт основная разметка
                        страницы:<br>
                        <br>
                        <img src="https://habrastorage.org/r/w1560/webt/kf/xm/hf/kfxmhf1wnld5zb9d2taoo6u5eh4.jpeg"
                             data-src="https://habrastorage.org/webt/kf/xm/hf/kfxmhf1wnld5zb9d2taoo6u5eh4.jpeg"
                             alt="habrastorage.org"><br>
                        <i class="grey">Разметка основных контейнеров. Синим цветом выделены таблицы
                        </i><br>
                        <br>
                        <span class="first-letter">В</span>ерхняя таблица — панель навигации. Здесь крайние ячейки имеют
                        фиксированную ширину, а
                        центральная растягивается. Такой же принцип использован и на оригинальном сайте. Так панель
                        занимает всю ширину просматриваемой области и имеет акцент на ссылки разделов. Нижняя
                        таблица использована для контента страницы и разделена на две ячейки для простоты
                        стилизации.<br>
                        <br>
                        Далее идут внутренние контейнеры для центровки контента:<br>
                        <br>
                        <img src="https://habrastorage.org/r/w1560/webt/nq/of/aq/nqofaqfe__lyiwcq04z6hfpyiis.jpeg"
                             data-src="https://habrastorage.org/webt/nq/of/aq/nqofaqfe__lyiwcq04z6hfpyiis.jpeg"
                             alt="habrastorage.org"><br>
                        <i class="grey">Разметка контейнеров для центровки контента. Синим цветом выделены
                            таблицы</i><br>
                        <br>
                        <span class="first-letter">Э</span>ти две таблицы имеют фиксированную ширину и использованы
                        специально из-за простоты
                        выравнивания по горизонтали с помощью <code>align="center"</code>. Верхняя отделяет
                        оформление профиля от навигации по его разделам, а нижняя разделяет боковую часть от
                        основного контента.<br>
                        <br>
                        Далее идут внутренние компоненты:<br>
                        <br>
                        <img src="https://habrastorage.org/r/w1560/webt/-y/ao/fo/-yaofohqncsakiynq6y6nix2rhw.jpeg"
                             data-src="https://habrastorage.org/webt/-y/ao/fo/-yaofohqncsakiynq6y6nix2rhw.jpeg"
                             alt="habrastorage.org"><br>
                        <i class="grey">Разметка внутренних контейнеров разделяющих информацию. Синим
                            цветом выделены таблицы, красным цветом выделены блоки с float-элементами, жёлтым
                            цветом выделены обычные блоки</i><br>
                        <br>
                        <span class="first-letter">О</span>ни визуально разграничивают какую либо информацию, что
                        упрощает её восприятие. Можно
                        заметить что с блоками в контентной части что-то не так. Взглянем поближе:<br>
                        <br>
                        <img src="https://habrastorage.org/r/w1560/webt/ck/66/fe/ck66feuzlqnztys0h4d3pwhcqao.jpeg"
                             data-src="https://habrastorage.org/webt/ck/66/fe/ck66feuzlqnztys0h4d3pwhcqao.jpeg"
                             alt="habrastorage.org"><br>
                        <i class="grey">Виджет боковой части страницы. Синим цветом выделены таблицы
                        </i><br>
                        <br>
                        <span class="first-letter">Э</span>то таблица с ячейками. Как мы помним возможности использовать
                        скругленные углы и тени у нас
                        нет. Точнее тени в IE 6 были и выглядели они как то так:<br>
                        <br>
                        <pre><code class="css hljs"><span class="hljs-selector-class">.selector</span> {
                          <span class="hljs-attribute">filter</span>: progid:DXImageTransform.Microsoft.<span
                                    class="hljs-built_in">DropShadow</span>(OffX=<span class="hljs-number">5</span>, OffY=<span
                                    class="hljs-number">5</span>, Color=#<span class="hljs-number">000000</span>);
                        }
                        </code></pre>
                        <br>
                        Из-за слабого функционала самого фильтра, тени получались грубыми и часто имели различного
                        рода баги, что сводило возможность их применения к нулю. Возможно был похожий фильтр и для
                        <code>border-radius</code>, но он ситуацию не спасает. Единственный выход — отрисовать всё в
                        Photoshop и использовать как фоновые изображения. Для примера рассмотрим выпадающее
                        меню:<br>
                        <br>
                        <img src="https://habrastorage.org/r/w1560/webt/hy/no/ph/hynoph83qmnryuksltgs3hxa1yg.jpeg"
                             data-src="https://habrastorage.org/webt/hy/no/ph/hynoph83qmnryuksltgs3hxa1yg.jpeg"
                             alt="habrastorage.org"><br>
                        <i class="grey">Вид выпадающего меню на сайте. Синим цветом выделена таблица,
                            жёлтым цветом выделен фон</i><br>
                        <br>
                        <span class="first-letter">Э</span>то табличная сетка 3 на 3. Углы зафиксированы по размеру фона
                        в ширину и высоту. Грани
                        зафиксированы только по одной стороне, а вторая имеет возможность растягиваться. Центр
                        просто закрашен фоновым цветом. Вот и всё, довольно таки просто сделать любой вычурный
                        дизайн, который будет подстраиваться под содержимое центральной ячейки. В итоге мы имеем и
                        тени и скругленные углы и всё красиво как и в дизайне оригинала.<br>
                        <br>
                        Идём дальше, внутренние блоки:<br>
                        <br>
                        <img src="https://habrastorage.org/r/w1560/webt/sq/yk/gj/sqykgjgqgg4ljft68lk3awuv3pg.jpeg"
                             data-src="https://habrastorage.org/webt/sq/yk/gj/sqykgjgqgg4ljft68lk3awuv3pg.jpeg"
                             alt="habrastorage.org"><br>
                        <i class="grey">Разметка элементов предоставления информации. Синим цветом
                            выделены таблицы, красным цветом выделены блоки с float-элементами</i><br>
                        <br>
                        <span class="first-letter">Т</span>ут всё просто. Это удобное представление необходимой для
                        восприятия и взаимодействия
                        информации. Взглянем на эту часть подробнее:<br>
                        <br>
                        <img src="https://habrastorage.org/r/w1560/webt/_2/3t/_q/_23t_qjspsznjjvjai7yjiokb7k.jpeg"
                             data-src="https://habrastorage.org/webt/_2/3t/_q/_23t_qjspsznjjvjai7yjiokb7k.jpeg"
                             alt="habrastorage.org"><br>
                        <i class="grey">Разметка с разными методиками формирования макета и оформления
                            информации. Синим цветом выделены таблицы, красным цветом выделены блоки с
                            float-элементами, жёлтым цветом выделены блоки с абсолютным позиционированием</i><br>
                        <br>
                        <span class="first-letter">З</span>десь можно заметить, что я использую таблицы очень часто. В
                        целом, любой элемент можно
                        сверстать как чисто на <code>float</code>, так и абсолютным позиционированием. Почему так?
                        Каждый разработчик сам решает как ему использовать тот или иной инструмент и что ему более
                        удобно или предпочтительно. Но стоит помнить что инструмент не всегда работает так как
                        задумано и здесь такая же ситуация.<br>
                        <br>
                        Я намеренно уходил от использования <code>float</code>. Всё связано с некоторыми багами в IE
                        6:<br>
                        <br>
                        <img src="https://habrastorage.org/r/w1560/webt/mx/jl/ae/mxjlaeintryir5f1vxtwjjzgcdk.jpeg"
                             data-src="https://habrastorage.org/webt/mx/jl/ae/mxjlaeintryir5f1vxtwjjzgcdk.jpeg"
                             alt="habrastorage.org"><br>
                        <i class="grey">Часть панели навигации сайта с явным указанием размеров внешнего
                            отступа в разных браузерах</i><br>
                        <br>
                        <span class="first-letter">Э</span>то два блочных элемента выровненных по левому краю с помощью
                        <code>float</code>. Поле
                        поиска имеет левый <code>margin</code> в 13 пикселей. Как можно заметить в IE 6 это значение
                        задвоено. Этот баг решался добавлением <code>display: inline;</code> к элементу, визуально
                        ничего не менялось и внешний отступ принимал правильное значение. Но на этом не все, есть
                        ещё и внутренний отступ:<br>
                        <br>
                        <img src="https://habrastorage.org/r/w1560/webt/6s/3b/er/6s3berxvyy0q3pjj9pw7h2pyvnc.jpeg"
                             data-src="https://habrastorage.org/webt/6s/3b/er/6s3berxvyy0q3pjj9pw7h2pyvnc.jpeg"
                             alt="habrastorage.org"><br>
                        <i class="grey">Часть панели навигации сайта с явным указанием размеров
                            внутреннего отступа в разных браузерах</i><br>
                        <br>
                        <span class="first-letter">И</span> там и там, визуально, ровная вёрстка, но IE 6 где-то съедает
                        1 пиксель. Эта проблема с
                        одним пикселем проявляла себя часто и в самых неожиданных местах. Почему так происходило я
                        не знаю, просто так она не решалась и приходилось подставлять значения на глаз.<br>
                        <br>
                        Как видим таблицы нам заменяли <code>grid</code>, а <code>float</code> —
                        <code>flexbox</code>. Удивительно что удобная альтернатива с похожим функционалом появилась
                        не так-то и давно. Даже в современном мире таблицы можно увидеть в вёрстке макетов для
                        электронных писем, с такими же принципами построения как я описал.<br>
                        <br>
                        <h2>Тысяча и одна картинка</h2><br>
                        <span class="first-letter">С</span> изображениями были свои проблемы, как и с их количеством.
                        Раньше в основе лежал
                        скевоморфизм со сложной конструкцией света и тени. Сверстать такое на чистом CSS было просто
                        невозможно. Придумал красивый дизайн — рисуй, режь и верстай и никак иначе.<br>
                        <br>
                        В основном мы использовали 3 формата, которые все и так знают:<br>
                        <br>
                        <ul>
                            <li><b>
                                JPEG
                            </b> — легко сжимается, хорошая цветопередача, не имеет прозрачность;
                            </li>
                            <li><b>
                                PNG
                            </b>— плохо сжимается, имеет хорошее качество, отличная цветопередача, имеет
                                прозрачность;
                            </li>
                            <li><b>
                                GIF
                            </b> — хорошо сжимается, плохая цветопередача, имеет прозрачность, можно
                                анимировать.
                            </li>
                        </ul>
                        <br>
                        Но были и те кто использовал <b>
                            BMP
                        </b>, что неоправданно затратно. Все стремились к заветным <i>«не более 250 кб на
                            страницу»</i> и изображения в мегабайт были непозволительной роскошью для интернета того
                        времени.<br>
                        <br>
                        Вроде бы есть из чего выбрать, но всё портили ограничения этих форматов.<br>
                        <br>
                        GIF не умел сглаживать прозрачность. Любое изображение с прозрачностью имело рваные края в
                        местах перехода. Что для тех лет смотрелось приемлемо, хотя и не очень красиво. В ImageReady
                        была опция — <u>сохранить как для Веб</u>. Что давало возможность добиться сглаживания краёв
                        за счёт использования фонового цвета на определённых пикселях. Всё же размер и практичность
                        ценились больше чем внешний вид.<br>
                        <br>
                        А вот с PNG были проблемы вселенского масштаба. IE 6 не умел отображать прозрачность для
                        этого формата. Да, весь альфа-канал заменялся обычным серым цветом. Решений у этой проблемы
                        я знал две — используй GIF или используй IE-фильтры. Выглядело это так:<br>
                        <br>
                        <pre><code class="css hljs"><span class="hljs-selector-class">.selector</span> {
                          <span class="hljs-attribute">background</span>: none;
                          <span class="hljs-attribute">filter</span>: progid:DXImageTransform.Microsoft.<span
                                    class="hljs-built_in">AlphaImageLoader</span>(src=<span class="hljs-string">"/bg.png"</span>, sizingMethod=<span
                                    class="hljs-string">"crop"</span>);
                          <span class="hljs-attribute">width</span>: <span class="hljs-number">800px</span>;
                          <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;
                        }
                        </code></pre>
                        <br>
                        Размеры должны быть строго заданы, иначе никакой магии не будет. Такой метод кроме того что
                        работал медленно и не всегда хорошо, был не очень удобен. А ещё
                        <code>background-repeat</code> не поддерживался с фильтром, что делало его применение
                        бесполезными во многих случаях.<br>
                        <br>
                        Хотя дизайн Facebook и более плоский, есть много мест где пришлось использовать изображения
                        для воссоздания оригинала:<br>
                        <br>
                        <img src="https://habrastorage.org/r/w1560/webt/ud/yr/rz/udyrrz5ztnholgkvjvxgt1imbp0.jpeg"
                             data-src="https://habrastorage.org/webt/ud/yr/rz/udyrrz5ztnholgkvjvxgt1imbp0.jpeg"
                             alt="habrastorage.org"><br>
                        <i class="grey">Карта использованных изображений. Синим цветом указаны фоновые
                            изображения, красным цветом указаны обычные изображения</i><br>
                        <br>
                        Каждое поле, кнопка или иконка, каждая тень, скругление аватарок или подсветка фона ссылок —
                        это всё изображения.<br>
                        <br>
                        Отсутствие качественной прозрачности накладывало ещё и дополнительную работу. Если кнопка
                        использовалась в нескольких местах где должен быть разный фон, нужно было рисовать столько
                        же вариантов этой кнопки. И так для каждого подобного элемента дизайна.<br>
                        <br>
                        При наведении курсора мыши мы подменяли одно изображение на другое, отображая эффект
                        наведения. И часто браузер не успевал загрузить и обработать новое изображение. Из-за чего
                        на какой-то момент, создавалась пустота и только потом появлялось загруженное изображение. В
                        какой-то момент я узнал что можно делать спрайты и загружать все нужные изображения сразу в
                        одном. Для примера рассмотрим часть того что используется на сайте:<br>
                        <img src="https://habrastorage.org/r/w1560/webt/yk/ux/nz/ykuxnzbftfddaltiqaoeyztrpl0.jpeg"
                             data-src="https://habrastorage.org/webt/yk/ux/nz/ykuxnzbftfddaltiqaoeyztrpl0.jpeg"
                             alt="habrastorage.org"><br>
                        <i class="grey">Пример спрайта с полем ввода, кнопкой, элементами меню и навигации
                        </i><br>
                        <br>
                        Все элементы просто складывались, как в тетрисе, на одно полотно. Сложность была только в
                        том, чтобы попасть в стилях на правильные координаты и размеры для позиционирования.<br>
                        <br>
                        Поля и кнопки специально делались подлиннее. Нужная часть изображения ставилась фоном на
                        кнопку и в отдельный элемент делался хвост фиксированной ширины с окончанием этого участка.
                        Теперь кнопку можно растягивать вплоть до того размера, которое мы поместили на спрайт.<br>
                        <br>
                        Что самое интересное, даже с отсутствием быстрого интернета, это работало довольно-таки
                        шустро. Сайт загружался и его можно было использовать до того как подгрузится спрайт. Но
                        признаюсь мне стоило повозиться, чтобы добиться идеального вида этих изображений для
                        демонстрации. В <b>production</b> бы ушли пережатые и оптимизированные изображения и
                        визуально это было бы заметно.<br>
                        <br>
                        <h2>20px + 20px + 5px</h2><br>
                        <span class="first-letter">П</span>о скриншотам сайта можно заметить что он получился какой-то
                        не широкий. А всё потому что, в
                        то время, у большинства стоял монитор в 17 дюймов с разрешением 1024х768 или 19-шка с
                        огромными 1280х1024. По этому сайт обычно делался или во всю ширину или блочно, но с
                        контентной частью где-то 980 пикселей.<br>
                        <br>
                        Обычно сайты были статичны с определённым минимальным размером. Сейчас такое тоже случается,
                        тот самый Вконтакте использует статичные размеры и отдельно мобильную версию сайта. С
                        шаблоном Facebook мне повезло и сильно изменять ничего не пришлось.<br>
                        <br>
                        Internet Explorer и тут выделялся, он использует <a
                                href="https://developer.mozilla.org/ru/docs/Web/CSS/CSS_Box_Model/Introduction_to_the_CSS_box_model">блоковую
                            модель</a> <code>border-box</code> по-умолчанию, тогда как другие браузеры используют
                        <code>content-box</code> как и сейчас. Посмотрим в чем разница на примере кода:<br>
                        <br>
                        <pre><code class="css hljs"><span class="hljs-selector-class">.selector</span> {
                          <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid black;
                          <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
                          <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;
                        }
                        </code></pre>
                        <br>
                        Internet Explorer отрисует блок в 500 пикселей как и написано. А другие браузеры отрисуют
                        блок в 524 пикселя. Это связано с логикой работы блоковой модели в баузерах. За основу
                        берется размер контента и к нему прибавляются все остальные размеры отступов и обводок. В IE
                        решили пойти от обратного и что самое интересное — в современной разработке это считается
                        более удачным выбором.<br>
                        <br>
                        <img src="https://habrastorage.org/r/w780q1/webt/yo/om/ah/yoomahxq_wlxdkkvprxemjblkwk.jpeg"
                             data-src="https://habrastorage.org/webt/yo/om/ah/yoomahxq_wlxdkkvprxemjblkwk.jpeg"
                             alt="habrastorage.org"
                             data-blurred="true"><br>
                        <i class="grey">Наглядно показана разница между блоковыми моделями W3C и Internet
                            Explorer</i><br>
                        <br>
                        Чтобы выровнять размеры блока нужно указать отдельно ширину в 500 пикселей для IE и отдельно
                        ширину в 476 пикселей для всех остальных браузеров. Благо такая возможность была и
                        приходилось постоянно считать пиксели, суммировать и вычитать для каждого случая с отступами
                        или обводкой. И я точно знаю что раньше в уме считал значительно быстрее чем сейчас.<br>
                        <br>
                        Стоит ещё заметить одну важную деталь. Сейчас основной размер текста равен 16 пикселям. А
                        верстка строится на привязанных к этому размеру единицах измерения — <b>rem</b>. Это очень
                        удобно и легко делится с сохранением чётного значения. Да и думать долями проще. Сделано это
                        всё для мобильных устройств. Парные пиксели легче масштабировать и не будет проблемы что
                        где-то он потерялся или то-то выглядит размыто.<br>
                        <br>
                        Так вот, раньше об этом не думали. Пиксели ставили как попало, во всех размерах часто
                        использовался шаг в 5 пикселей (так считать удобней), а весь текст был в 12 пикселей Arial
                        или Times New Roman. И скажу что это огромное облегчение не затрагивать мобильные устройства
                        и то как там что будет выглядеть.<br>
                        <br>
                        <h2>jQueryScript...</h2><br>
                        <span class="first-letter">П</span>омню раньше были сайты, которые предлагали всякие поделки на
                        JavaScript в виде часов,
                        календарей или эффектов и каждый уважающий себя владелец интернет-ресурса должен был иметь
                        подобные побрякушки и у себя. О JavaScript я мало чего помню, только то, что у каждого
                        браузера он был свой. А так как я всё учил методом научного тыка, JavaScript для меня
                        начался с jQuery и Mootools.<br>
                        <br>
                        jQuery я полюбил сразу как понял в чем его суть. Продуманная структура и хорошо прописанная
                        документация с примерами, давала возможность использовать эту библиотеку не зная основ
                        JavaScript. Стоит уточнить, что в будущем это негативно скажется на некоторых аспектах моего
                        пути в веб. Ведь любой язык и любую технологию нужно учить с фундаментальных основ, чтобы
                        уметь мыслить с использованием полученных знаний, а не просто применять инструмент.<br>
                        <br>
                        На моей копии Facebook я также использовал jQuery. Всё точно так же как и сейчас, только
                        набор методов значительно меньше. На нем я написал логику работы выпадающих меню и
                        <code>placeholder</code> полей ввода.<br>
                        <br>
                        С выпадающими меню все просто, слушаем события <code>click</code> и манипулируем
                        CSS-свойствами и анимацией. А вот с <code>placeholder</code> всё чуть сложнее. В HTML 4 не
                        было возможности поставить на поле нативный <code>placeholder</code>. Для их реализации
                        использовали тег <code>label</code> с абсолютным позиционированием над полем и отслеживанием
                        состояния фокуса поля через JavaScript, чтобы этот <code>label</code> скрыть.<br>
                        <br>
                        <img src="https://habrastorage.org/r/w780q1/webt/x5/lv/ew/x5lvewzjeqsmzccyqdnom2muycu.jpeg"
                             data-src="https://habrastorage.org/webt/x5/lv/ew/x5lvewzjeqsmzccyqdnom2muycu.jpeg"
                             alt="habrastorage.org"
                             data-blurred="true"><br>
                        <i class="grey">Поле поиска с активным фокусом и без него. Красным цветом указан
                            контейнер, жёлтым цветом указан label</i><br>
                        <br>
                        Ванильный JavaScript использовался для фиксации верхней панели навигации внутри
                        CSS-свойства. Да IE 6 не умел фиксировать позицию элемента на экране с помощью
                        <code>position: fixed;</code>, но умел в CSS с использованием JavaScript. Посмотрим на
                        пример:<br>
                        <br>
                        <pre><code class="css hljs"><span class="hljs-selector-class">.selector</span> {
                          <span class="hljs-attribute">position</span>: absolute;
                          <span class="hljs-attribute">left</span>: <span class="hljs-number">0px</span>;
                          <span class="hljs-attribute">top</span>: <span class="hljs-number">0px</span>;
                          <span class="hljs-attribute">left</span>: <span class="hljs-built_in">expression</span>((<span
                                    class="hljs-number">0</span> + (someVariable = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft )) + <span
                                    class="hljs-string">"px"</span>);
                          <span class="hljs-attribute">top</span>: <span class="hljs-built_in">expression</span>((<span
                                    class="hljs-number">0</span> + (someVariable = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop)) + <span
                                    class="hljs-string">"px"</span>);
                        }
                        </code></pre>
                        <br>
                        Любое JavaScript-выражение можно поместить в <code>expression</code> и оно будет выполнено.
                        Здесь мы получаем позицию скрола и используем её для определения позиции элемента. При
                        изменении скрола всё автоматически будет пересчитано. Работает это очень плохо и при скроле
                        дёргается.<br>
                        <br>
                        Напомню что на дворе было начало 2000-х когда это появилось и на фоне того что происходит в
                        современном вебе, это чертовски инновационно, но непонятно зачем.<br>
                        <br>
                        <h2>Это можно сделать только в IE</h2><br>
                        <span class="first-letter">М</span>ожно заметить что часто что-то работало не так или вовсе не
                        работало в Internet Explorer.
                        Из-за того что он занимал монопольное положение на рынке, Microsoft реализовывали функционал
                        как сами того хотели и этим нарушали те малые стандарты которые тогда были. Но кто-то в
                        компании понял что это путь в никуда и предоставил инструменты решающие некоторые
                        проблемы.<br>
                        <br>
                        Первое что мы рассмотрим — специальный селектор:<br>
                        <br>
                        <pre><code class="css hljs"><span class="hljs-selector-class">.selector</span> {
                          // Это будет работать в любом браузере
                          <span class="hljs-attribute">color</span>: red;
                        }
                        * <span class="hljs-selector-tag">html</span> <span class="hljs-selector-class">.selector</span> {
                          // Это будет работать только в IE 6
                          <span class="hljs-attribute">color</span>: blue;
                        }
                        </code></pre>
                        <br>
                        Довольно таки удобно писать код как привык и выносить отдельные части специально для IE, но
                        на самом деле этот код не валиден по стандартам CSS, ведь выше тега html в иерархии ничего
                        не может быть.<br>
                        <br>
                        Второе — префикс для CSS-свойства:<br>
                        <br>
                        <pre><code class="css hljs"><span class="hljs-selector-class">.selector</span> {
                          // Это будет работать в любом браузере
                          <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid red;
                        
                          // Это будет работать только в IE 6
                          <span class="hljs-attribute">_border</span>: <span class="hljs-number">2px</span> solid blue;
                        }
                        </code></pre>
                        <br>
                        Тоже довольно таки удобно и часто встречался в использовании, но как и первый вариант этот
                        код не валиден. Каждая следующая версия IE которая использовала такой подход, предпочитала
                        свой префикс, что быстро вводило в заблуждение.<br>
                        <br>
                        И наконец третий вариант и самый используемый — специальный комментарий, он же <b>
                            conditional comments
                        </b>.<br>
                        <br>
                        <pre><code class="css hljs">&lt;!<span class="hljs-selector-tag">--</span><span
                                class="hljs-selector-attr">[if IE 6]</span>&gt;
                          Тут будет работать код только в <span class="hljs-selector-tag">IE</span> 6, в других браузерах это будет обычный комментарий
                        &lt;!<span class="hljs-selector-attr">[endif]</span><span class="hljs-selector-tag">--</span>&gt;
                        </code></pre>
                        <br>
                        Просто подключаем 2 стиля, один полноценный и один с правками для IE. Именно это решение
                        использовали для всех IE вплоть пока это было возможно. Но кто-то решил что IE 10 — отличный
                        браузер и подобные вещи ему больше не нужны, там этот хак убрали. Спасибо, это очень помогло
                        в разработке (нет).<br>
                        <br>
                        Но на этом не всё! Было ещё много багов и поведений которые не ложились на здравое мышление.
                        Опишу те что помню.<br>
                        <br>
                        <h3>
                            ▍Небагафича №1</h3><br>
                        IE не понимал ничего что было связано с минимальной и максимальной высотой и шириной.
                        Лечилось это с использованием <code>expression</code> в CSS и JavaScript выражением. Или вот
                        таким хаком для <code>min-height</code>:<br>
                        <br>
                        <pre><code class="css hljs"><span class="hljs-selector-class">.selector</span> {
                          <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100px</span>;
                          <span class="hljs-attribute">height</span>: auto <span class="hljs-meta">!important</span>;
                          <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
                        }
                        </code></pre>
                        <br>
                        <br>
                        Понятия не имею почему это работает, но хаков с использованием <code>!important</code> было
                        достаточно много.<br>
                        <br>
                        <h3>
                            ▍Небагафича №2</h3><br>
                        <pre><code class="css hljs"><span class="hljs-selector-class">.selector</span> {
                          <span class="hljs-attribute">color</span>: red <span class="hljs-meta">!important</span>;
                          <span class="hljs-attribute">color</span>: blue;
                        }
                        </code></pre>
                        <br>
                        Все браузеры отрисуют красный цвет и только IE 6 покажет синий. Почему? Мне тоже
                        интересно.<br>
                        <br>
                        <h3>
                            ▍Небагафича №3</h3><br>
                        Только ссылки и кнопки могли обрабатываться свойством <code>:hover</code>, остальные
                        элементы не работали. По этому все возможное я оборачивал в ссылку и уже её стилизовал. При
                        написании этой статьи и гуляя по интернету я вспомнил об этих скриптах:<br>
                        <br>
                        <pre><code class="css hljs"><span class="hljs-selector-class">.selector</span> {
                          <span class="hljs-attribute">behavior</span>: <span class="hljs-built_in">url</span>(<span
                                    class="hljs-string">"csshover3.htc"</span>);
                          <span class="hljs-attribute">behavior</span>: <span class="hljs-built_in">url</span>(<span
                                    class="hljs-string">"iepngfix.htc"</span>);
                        }
                        </code></pre>
                        <br>
                        <br>
                        Первый скрипт добавлял :hover на любые элементы, второй прозрачность для PNG. Я их когда-то
                        использовал в своей работе, но на момент создания копии просто не помнил что такое было.<br>
                        <br>
                        <h3>
                            ▍Небагафича №4</h3><br>
                        Размер шрифта влиял на размер элемента, даже если он был без текста. Рассмотрим пример:<br>
                        <br>
                        <pre><code class="css hljs"><span class="hljs-selector-class">.selector</span> {
                          <span class="hljs-attribute">width</span>: <span class="hljs-number">2px</span>;
                          <span class="hljs-attribute">height</span>: <span class="hljs-number">2px</span>;
                        }
                        </code></pre>
                        <br>
                        Все браузеры отрисуют блок 2 на 2 пикселя и только в IE 6 он будет чуть больше. Чтобы этого
                        не было нужно добавить <code>font-size: 0;</code>, тогда шрифт не будет влиять на размер
                        блока.<br>
                        <br>
                        <h3>
                            ▍Небагафича №5</h3><br>
                        Ну и куда же без <code>zoom: 1;</code>. Это магическое свойство заставляло разметку
                        написанную нами работать более правильно. Каждый раз когда были какие-то проблемы с
                        позиционированием, отображением или прокруткой сразу пробовали добавить <code>zoom</code> и
                        очень часто он решал проблему. Связано это было со слоями и рендерингом страницы самим
                        IE.<br>
                        <br>
                        Подобных багов было очень много. Всё усложняло непонимание — <i>«откуда они берутся и как с
                            ними бороться»</i>. Зато каждый раз разработка превратилась в детектив с использованием
                        смекалки и чутка магии.<br>
                        <br>
                        <h2>А что покажет Огнелис?</h2><br>
                        Сайт полностью готов и пришло время посмотреть как он выглядит в другом браузере. Я запускаю
                        Firefox, открываю сайт и… и у меня сдают нервы. Естественно всё выглядело криво. А чтобы всё
                        исправить нужно сидеть и разделять стили для браузеров, считай размеры, править съехавшую
                        вёрстку и дебажить, дебажить, дебажить. Я понял что с меня ностальгии достаточно.<br>
                        <br>
                        Я специально писал код опираясь на IE. Вместо запланированного времени на реализацию только
                        одной страницу ушло <b>
                            5 часов и 43 минуты!
                        </b><br>
                        <br>
                        А вся проблема в логике и мышлении. Только создавая подобные проекты понимаешь как сильно
                        инструмент который ты используешь, влияет на то как ты мыслишь и насколько сильно он
                        упрощает рутину. Во время работы всегда возникал конфликт как это сделать, как это делали
                        раньше, почему это не работает. Приходилось несколько раз переписывать, продумывать разметку
                        заново и снова переписывать.<br>
                        <br>
                        <i>«Отмерять размеры, сверстать, забыть значение пока переключаешься между окнами, нарезать
                            все изображения и переделать 3 раза, обматериться, свести всё в спрайт, посмотреть на
                            сайт и понять что это как-то не очень выглядит, опять нарезать все изображения и
                            переделать еще 2 раза, а потом ещё 2 раза, обматериться ещё раз, опять свести все в
                            спрайт, обматерить неудобную клавиатуру, выпить кофе, начать искать в интернете более
                            удобную клавиатуру, загуглить пару сотен раз „почему это не работает в IE 6“, закончить
                            работу».</i><br>
                        <br>
                        Но зато идеально и как один в один! Хотя раньше я на всё потратил бы меньше часа и выглядело
                        бы оно так же. Всё-таки 15 лет это очень много. Веб сильно изменился, но сайты свёрстанные
                        тогда всё так же работают в современных браузерах. А вот будут ли работать современные сайты
                        в браузерах будущего пока сказать сложно.<br>
                        <br>
                        Скриншот с Firefox я не покажу чтобы не травмировать сильно впечатлительных людей. А ещё я
                        где-то потерял исходный код во время написания статьи… Обидно.<br>
                        <br>
                        <h2>Ну и в конце</h2><br>
                        Ностальгия была не настолько приятной как я думал, но и не такой плохой. Сейчас много
                        времени приходится тратить на продумывание дизайна и концепции, на бизнес логику и
                        взаимодействия, на адаптацию под разные устройства, на комфорт пользователя и сравнительно
                        немного на саму реализацию. Раньше от мысли до готового сайта у меня уходило 3 часа, с
                        которых 80% это простое программирование. Но как бы мне не казалось, что раньше было лучше и
                        проще, это не так.<br>
                        <br>
                        Internet Explorer 6 в моей памяти был хорошим браузером и оказался не очень на практике.
                        Его, как и все последующие версии, погубило несколько очень значимых деталей: своя политика
                        партии в отношении веб, многочисленные баги которые не исправлялись годами, медленное
                        принятие современный веб-стандартов и глобальные обновления только с выходом новой версии
                        Windows. <i>«Тебя это тоже касается Safari!»</i><br>
                        <br>
                        Это был хороший опыт. Я стал любить больше современные технологии с меньшим ощущением что
                        вся веб-разработка повернула не в ту сторону и я занимаюсь не тем (тебя это не касается
                        node_modules, ты всё так же плох).<br>
                        <br>
                        Я советую всем попытаться воссоздать что-то современное на старых языках и технологиях. Или
                        хотя бы узнать, как развивался тот стек который вы используете каждый день. Это интересно,
                        но предупреждаю — местами будет больно.<br>
                        <br>

                    </div>
                </div>

                <!---->
            </div>

        </article>

        <div class="page-content__comments" id="comments">
            <div class="page-content__comments-title">Комментарии</div>
            <div class="page-content__comments-body">

                <div class="page-content__comments-item">
                    <div class="page-content__comments-author"><a href="#">Максим</a></div>
                    <div class="page-content__comments-content">
                        <div class="page-content__comments-avatar">
                            <img class="page-content__comments-image"
                                 src="//habrastorage.org/r/w32/getpro/habr/avatars/20a/0ad/d8c/20a0add8ce3ddddec0e521f86e694f40.jpg"
                                 alt="avatar">
                        </div>
                        <p class="page-content__comments-message">Меня это тоже интересовало. Я ставил WEB-сервер,
                            последний доступный Chrome для Windows XP и открывал по 50 вкладок. IE явно работает более
                            легковесней и отзывчивей чем Chrome, а потребление оперативной памяти копеечное. Старый
                            Firefox так же быстрее чем более новый. Но если сравнивать на современном железе мою копию в
                            1.3 мегабайта и страницу реального Фейсбук в 15 мегабайт, разницу в скорости не заметить.
                            Раньше на потребляемые ресурсы явно больше времени уделяли чем сейчас.</p>
                    </div>
                    <div class="page-content__comments-controls">
                        <a href="#">Ответить</a>

                    </div>
                </div>


                <div class="page-content__comments-item">
                    <div class="page-content__comments-author"><a href="#">Дмитрий Карловский</a></div>
                    <div class="page-content__comments-content">
                        <div class="page-content__comments-avatar">
                            <img class="page-content__comments-image"
                                 src="https://images.pexels.com/photos/91227/pexels-photo-91227.jpeg?auto=compress&cs=tinysrgb&crop=faces&fit=crop&h=200&w=200"
                                 alt="avatar">
                        </div>
                        <p class="page-content__comments-message">Хммм, как можно было так быстро забыть боль хаков для
                            6-го, что аж захотелось её испытать заново?</p>
                    </div>
                    <div class="page-content__comments-controls">
                        <a href="#">Ответить</a>

                    </div>
                </div>

                <div class="page-content__comments-item">
                    <div class="page-content__comments-author"><a href="#">Влад Даггерт</a></div>
                    <div class="page-content__comments-content">
                        <div class="page-content__comments-avatar">
                            <img class="page-content__comments-image"
                                 src="https://uifaces.co/our-content/donated/6f6p85he.jpg" alt="avatar">
                        </div>
                        <p class="page-content__comments-message">Я аж прослезился... 2005 год, я пытаюсь повторить
                            классический сайт ВОВ, гляжу код и просто плачу ибо было проще сделать 3 отдельных сайта -
                            для IE, оперы и фаерфокса... 1в1 прям мучения, чистой воды БДСМ. Скучаю по тем временам...
                            но возвращаться не хочу (:</p>
                    </div>
                    <div class="page-content__comments-controls">
                        <a href="#">Ответить</a>

                    </div>
                </div>
            </div>
        </div>
    </div>

</main>
<footer class="footer mix-bg">
    <div class="footer__copyright content-bg">© George Yakhontov</div>
</footer>
</body>

</html>